[
    {
        "id": "html-landing",
        "name": "Landing Page",
        "category": "HTML",
        "language": "html",
        "description": "Responsive landing page with hero, features, and CTA",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Landing Page</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; color: #1a1a2e; }\n        .hero {\n            min-height: 80vh;\n            display: flex; flex-direction: column; align-items: center; justify-content: center;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white; text-align: center; padding: 2rem;\n        }\n        .hero h1 { font-size: 3rem; margin-bottom: 1rem; }\n        .hero p { font-size: 1.25rem; opacity: 0.9; max-width: 600px; margin-bottom: 2rem; }\n        .btn {\n            display: inline-block; padding: 0.875rem 2rem;\n            background: white; color: #667eea; border-radius: 0.5rem;\n            text-decoration: none; font-weight: 600; font-size: 1.1rem;\n            transition: transform 0.2s, box-shadow 0.2s;\n        }\n        .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0,0,0,0.2); }\n        .features {\n            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n            gap: 2rem; padding: 4rem 2rem; max-width: 1100px; margin: 0 auto;\n        }\n        .feature {\n            padding: 2rem; border-radius: 1rem;\n            background: #f8f9ff; text-align: center;\n        }\n        .feature .icon { font-size: 2.5rem; margin-bottom: 1rem; }\n        .feature h3 { font-size: 1.25rem; margin-bottom: 0.5rem; }\n        .feature p { color: #555; line-height: 1.6; }\n        .cta {\n            text-align: center; padding: 4rem 2rem;\n            background: #f0f0ff;\n        }\n        .cta h2 { font-size: 2rem; margin-bottom: 1rem; }\n        .cta .btn { background: #667eea; color: white; }\n    </style>\n</head>\n<body>\n    <section class=\"hero\">\n        <h1>Build Something Amazing</h1>\n        <p>A modern platform that helps you create, iterate, and ship faster than ever before.</p>\n        <a href=\"#features\" class=\"btn\">Get Started</a>\n    </section>\n\n    <section id=\"features\" class=\"features\">\n        <div class=\"feature\">\n            <div class=\"icon\">\u26A1</div>\n            <h3>Lightning Fast</h3>\n            <p>Optimized for speed with sub-second response times and efficient caching.</p>\n        </div>\n        <div class=\"feature\">\n            <div class=\"icon\">\uD83D\uDD12</div>\n            <h3>Secure by Default</h3>\n            <p>Enterprise-grade security with encryption at rest and in transit.</p>\n        </div>\n        <div class=\"feature\">\n            <div class=\"icon\">\uD83D\uDE80</div>\n            <h3>Scale Effortlessly</h3>\n            <p>From prototype to production — scales automatically with your needs.</p>\n        </div>\n    </section>\n\n    <section class=\"cta\">\n        <h2>Ready to get started?</h2>\n        <p style=\"color:#555; margin-bottom:1.5rem;\">Join thousands of teams building with our platform.</p>\n        <a href=\"#\" class=\"btn\">Start Free Trial</a>\n    </section>\n</body>\n</html>"
    },
    {
        "id": "html-dashboard",
        "name": "Dashboard",
        "category": "HTML",
        "language": "html",
        "description": "Admin dashboard with sidebar, stats cards, and data table",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Dashboard</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #f1f5f9; display: flex; min-height: 100vh; }\n        .sidebar {\n            width: 240px; background: #1e293b; color: white; padding: 1.5rem 0;\n            display: flex; flex-direction: column;\n        }\n        .sidebar h2 { padding: 0 1.5rem; margin-bottom: 2rem; font-size: 1.25rem; }\n        .sidebar a {\n            display: block; padding: 0.75rem 1.5rem; color: #94a3b8;\n            text-decoration: none; font-size: 0.9rem; transition: all 0.15s;\n        }\n        .sidebar a:hover, .sidebar a.active { color: white; background: rgba(255,255,255,0.1); }\n        .main { flex: 1; padding: 2rem; overflow-y: auto; }\n        .main h1 { font-size: 1.5rem; color: #1e293b; margin-bottom: 1.5rem; }\n        .stats {\n            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 1rem; margin-bottom: 2rem;\n        }\n        .stat-card {\n            background: white; padding: 1.25rem; border-radius: 0.75rem;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n        .stat-card .label { font-size: 0.85rem; color: #64748b; margin-bottom: 0.25rem; }\n        .stat-card .value { font-size: 1.75rem; font-weight: 700; color: #1e293b; }\n        .stat-card .change { font-size: 0.8rem; color: #22c55e; margin-top: 0.25rem; }\n        .stat-card .change.negative { color: #ef4444; }\n        table {\n            width: 100%; border-collapse: collapse; background: white;\n            border-radius: 0.75rem; overflow: hidden;\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        }\n        th, td { padding: 0.875rem 1rem; text-align: left; font-size: 0.9rem; }\n        th { background: #f8fafc; font-weight: 600; color: #475569; border-bottom: 1px solid #e2e8f0; }\n        td { border-bottom: 1px solid #f1f5f9; color: #334155; }\n        .badge {\n            padding: 0.2rem 0.6rem; border-radius: 1rem; font-size: 0.75rem; font-weight: 500;\n        }\n        .badge-green { background: #dcfce7; color: #166534; }\n        .badge-yellow { background: #fef9c3; color: #854d0e; }\n        .badge-red { background: #fee2e2; color: #991b1b; }\n    </style>\n</head>\n<body>\n    <nav class=\"sidebar\">\n        <h2>\uD83D\uDCCA Dashboard</h2>\n        <a href=\"#\" class=\"active\">Overview</a>\n        <a href=\"#\">Analytics</a>\n        <a href=\"#\">Users</a>\n        <a href=\"#\">Settings</a>\n    </nav>\n    <main class=\"main\">\n        <h1>Overview</h1>\n        <div class=\"stats\">\n            <div class=\"stat-card\">\n                <div class=\"label\">Total Users</div>\n                <div class=\"value\">12,847</div>\n                <div class=\"change\">\u2191 12% from last month</div>\n            </div>\n            <div class=\"stat-card\">\n                <div class=\"label\">Revenue</div>\n                <div class=\"value\">$48,290</div>\n                <div class=\"change\">\u2191 8% from last month</div>\n            </div>\n            <div class=\"stat-card\">\n                <div class=\"label\">Active Sessions</div>\n                <div class=\"value\">1,234</div>\n                <div class=\"change negative\">\u2193 3% from last month</div>\n            </div>\n            <div class=\"stat-card\">\n                <div class=\"label\">Uptime</div>\n                <div class=\"value\">99.9%</div>\n                <div class=\"change\">Last 30 days</div>\n            </div>\n        </div>\n        <table>\n            <thead>\n                <tr><th>Name</th><th>Email</th><th>Role</th><th>Status</th></tr>\n            </thead>\n            <tbody>\n                <tr><td>Alice Johnson</td><td>alice@example.com</td><td>Admin</td><td><span class=\"badge badge-green\">Active</span></td></tr>\n                <tr><td>Bob Smith</td><td>bob@example.com</td><td>Editor</td><td><span class=\"badge badge-green\">Active</span></td></tr>\n                <tr><td>Carol Davis</td><td>carol@example.com</td><td>Viewer</td><td><span class=\"badge badge-yellow\">Pending</span></td></tr>\n                <tr><td>Dan Wilson</td><td>dan@example.com</td><td>Editor</td><td><span class=\"badge badge-red\">Inactive</span></td></tr>\n            </tbody>\n        </table>\n    </main>\n</body>\n</html>"
    },
    {
        "id": "html-form",
        "name": "Contact Form",
        "category": "HTML",
        "language": "html",
        "description": "Styled contact form with validation and submission",
        "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Contact Form</title>\n    <style>\n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n            background: #f1f5f9; min-height: 100vh;\n            display: flex; align-items: center; justify-content: center; padding: 2rem;\n        }\n        .form-card {\n            width: 100%; max-width: 500px; background: white;\n            border-radius: 1rem; padding: 2.5rem;\n            box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n        }\n        h1 { font-size: 1.5rem; color: #1e293b; margin-bottom: 0.5rem; }\n        .subtitle { color: #64748b; margin-bottom: 2rem; font-size: 0.9rem; }\n        .field { margin-bottom: 1.25rem; }\n        label { display: block; font-size: 0.85rem; font-weight: 600; color: #334155; margin-bottom: 0.375rem; }\n        input, textarea, select {\n            width: 100%; padding: 0.75rem; border: 1px solid #e2e8f0;\n            border-radius: 0.5rem; font-size: 0.9rem; font-family: inherit;\n            transition: border-color 0.2s, box-shadow 0.2s; background: #f8fafc;\n        }\n        input:focus, textarea:focus, select:focus {\n            outline: none; border-color: #3b82f6;\n            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);\n        }\n        textarea { resize: vertical; min-height: 120px; }\n        .error { color: #ef4444; font-size: 0.8rem; margin-top: 0.25rem; display: none; }\n        .btn {\n            width: 100%; padding: 0.875rem; background: #3b82f6; color: white;\n            border: none; border-radius: 0.5rem; font-size: 1rem; font-weight: 600;\n            cursor: pointer; transition: background 0.2s;\n        }\n        .btn:hover { background: #2563eb; }\n        .btn:disabled { background: #94a3b8; cursor: not-allowed; }\n        .success { display: none; text-align: center; padding: 2rem; color: #16a34a; }\n        .success .icon { font-size: 3rem; margin-bottom: 1rem; }\n    </style>\n</head>\n<body>\n    <div class=\"form-card\">\n        <form id=\"contactForm\">\n            <h1>Get in Touch</h1>\n            <p class=\"subtitle\">Fill out the form below and we'll get back to you within 24 hours.</p>\n\n            <div class=\"field\">\n                <label for=\"name\">Full Name *</label>\n                <input type=\"text\" id=\"name\" required placeholder=\"John Doe\">\n                <div class=\"error\" id=\"nameError\">Please enter your name</div>\n            </div>\n\n            <div class=\"field\">\n                <label for=\"email\">Email Address *</label>\n                <input type=\"email\" id=\"email\" required placeholder=\"john@example.com\">\n                <div class=\"error\" id=\"emailError\">Please enter a valid email</div>\n            </div>\n\n            <div class=\"field\">\n                <label for=\"subject\">Subject</label>\n                <select id=\"subject\">\n                    <option value=\"\">Select a topic...</option>\n                    <option value=\"general\">General Inquiry</option>\n                    <option value=\"support\">Technical Support</option>\n                    <option value=\"billing\">Billing Question</option>\n                    <option value=\"feedback\">Feedback</option>\n                </select>\n            </div>\n\n            <div class=\"field\">\n                <label for=\"message\">Message *</label>\n                <textarea id=\"message\" required placeholder=\"How can we help you?\"></textarea>\n                <div class=\"error\" id=\"messageError\">Please enter a message</div>\n            </div>\n\n            <button type=\"submit\" class=\"btn\">Send Message</button>\n        </form>\n\n        <div class=\"success\" id=\"successMsg\">\n            <div class=\"icon\">\u2705</div>\n            <h2>Thank you!</h2>\n            <p>Your message has been sent successfully.</p>\n        </div>\n    </div>\n\n    <script>\n        document.getElementById('contactForm').addEventListener('submit', function(e) {\n            e.preventDefault();\n            let valid = true;\n            ['name', 'email', 'message'].forEach(id => {\n                const input = document.getElementById(id);\n                const error = document.getElementById(id + 'Error');\n                if (!input.value.trim() || (id === 'email' && !input.value.includes('@'))) {\n                    error.style.display = 'block';\n                    valid = false;\n                } else {\n                    error.style.display = 'none';\n                }\n            });\n            if (valid) {\n                this.style.display = 'none';\n                document.getElementById('successMsg').style.display = 'block';\n            }\n        });\n    </script>\n</body>\n</html>"
    },
    {
        "id": "python-cli",
        "name": "CLI Script",
        "category": "Python",
        "language": "python",
        "description": "argparse CLI with subcommands, logging, and config",
        "content": "#!/usr/bin/env python3\n\"\"\"CLI Application Template.\n\nA structured command-line application with subcommands,\nlogging, configuration, and error handling.\n\nUsage:\n    python cli.py greet --name \"World\"\n    python cli.py process --input data.csv --output results.json\n    python cli.py --verbose greet --name \"Debug Mode\"\n\"\"\"\n\nimport argparse\nimport json\nimport logging\nimport sys\nfrom pathlib import Path\nfrom typing import Any\n\n\n# ─── Configuration ─────────────────────────────────────────────\n\nDEFAULT_CONFIG = {\n    \"output_format\": \"json\",\n    \"max_retries\": 3,\n    \"timeout\": 30,\n}\n\n\ndef load_config(config_path: Path | None = None) -> dict:\n    \"\"\"Load configuration from file with defaults.\"\"\"\n    config = DEFAULT_CONFIG.copy()\n    if config_path and config_path.exists():\n        with open(config_path) as f:\n            config.update(json.load(f))\n    return config\n\n\n# ─── Subcommands ───────────────────────────────────────────────\n\ndef cmd_greet(args: argparse.Namespace, config: dict) -> int:\n    \"\"\"Greet command — simple hello world.\"\"\"\n    name = args.name or \"World\"\n    count = args.count or 1\n\n    for i in range(count):\n        print(f\"Hello, {name}! (#{i + 1})\")\n\n    logging.info(f\"Greeted {name} {count} time(s)\")\n    return 0\n\n\ndef cmd_process(args: argparse.Namespace, config: dict) -> int:\n    \"\"\"Process command — read input, transform, write output.\"\"\"\n    input_path = Path(args.input)\n    output_path = Path(args.output) if args.output else None\n\n    if not input_path.exists():\n        logging.error(f\"Input file not found: {input_path}\")\n        return 1\n\n    logging.info(f\"Processing {input_path}...\")\n\n    # Read input\n    data = input_path.read_text()\n    lines = data.strip().split(\"\\n\")\n    logging.info(f\"Read {len(lines)} lines\")\n\n    # Transform (example: count words per line)\n    results = []\n    for i, line in enumerate(lines, 1):\n        words = len(line.split())\n        results.append({\"line\": i, \"text\": line[:50], \"words\": words})\n\n    # Write output\n    output = json.dumps(results, indent=2)\n    if output_path:\n        output_path.write_text(output)\n        logging.info(f\"Results written to {output_path}\")\n    else:\n        print(output)\n\n    return 0\n\n\n# ─── Main ──────────────────────────────────────────────────────\n\ndef create_parser() -> argparse.ArgumentParser:\n    \"\"\"Build the argument parser with subcommands.\"\"\"\n    parser = argparse.ArgumentParser(\n        description=\"CLI Application Template\",\n        formatter_class=argparse.RawDescriptionHelpFormatter,\n    )\n    parser.add_argument(\"-v\", \"--verbose\", action=\"store_true\", help=\"Enable debug logging\")\n    parser.add_argument(\"--config\", type=Path, help=\"Path to config JSON file\")\n\n    sub = parser.add_subparsers(dest=\"command\", help=\"Available commands\")\n\n    # Greet subcommand\n    greet = sub.add_parser(\"greet\", help=\"Say hello\")\n    greet.add_argument(\"--name\", default=\"World\", help=\"Name to greet\")\n    greet.add_argument(\"--count\", type=int, default=1, help=\"Number of greetings\")\n\n    # Process subcommand\n    process = sub.add_parser(\"process\", help=\"Process a file\")\n    process.add_argument(\"--input\", \"-i\", required=True, help=\"Input file path\")\n    process.add_argument(\"--output\", \"-o\", help=\"Output file path (stdout if omitted)\")\n\n    return parser\n\n\ndef main() -> int:\n    parser = create_parser()\n    args = parser.parse_args()\n\n    # Setup logging\n    level = logging.DEBUG if args.verbose else logging.INFO\n    logging.basicConfig(\n        level=level,\n        format=\"%(asctime)s [%(levelname)s] %(message)s\",\n        datefmt=\"%H:%M:%S\",\n    )\n\n    # Load config\n    config = load_config(args.config)\n    logging.debug(f\"Config: {config}\")\n\n    # Dispatch command\n    commands = {\n        \"greet\": cmd_greet,\n        \"process\": cmd_process,\n    }\n\n    if not args.command:\n        parser.print_help()\n        return 1\n\n    handler = commands.get(args.command)\n    if not handler:\n        logging.error(f\"Unknown command: {args.command}\")\n        return 1\n\n    try:\n        return handler(args, config)\n    except KeyboardInterrupt:\n        logging.info(\"Interrupted by user\")\n        return 130\n    except Exception as e:\n        logging.exception(f\"Fatal error: {e}\")\n        return 1\n\n\nif __name__ == \"__main__\":\n    sys.exit(main())\n"
    },
    {
        "id": "python-flask",
        "name": "Flask API",
        "category": "Python",
        "language": "python",
        "description": "Minimal Flask REST API with CRUD endpoints",
        "content": "\"\"\"Flask REST API Template.\n\nMinimal CRUD API with JSON responses, error handling,\nand in-memory storage (replace with database in production).\n\nRun:\n    pip install flask\n    python app.py\n\nEndpoints:\n    GET    /api/items          - List all items\n    GET    /api/items/<id>     - Get single item\n    POST   /api/items          - Create item\n    PUT    /api/items/<id>     - Update item\n    DELETE /api/items/<id>     - Delete item\n\"\"\"\n\nfrom flask import Flask, jsonify, request, abort\nfrom datetime import datetime\nimport uuid\n\napp = Flask(__name__)\n\n# In-memory storage (replace with database)\nitems_db: dict[str, dict] = {}\n\n\n# ─── Helpers ────────────────────────────────────────────────────\n\ndef get_item_or_404(item_id: str) -> dict:\n    \"\"\"Retrieve item by ID or abort with 404.\"\"\"\n    item = items_db.get(item_id)\n    if not item:\n        abort(404, description=f\"Item '{item_id}' not found\")\n    return item\n\n\n# ─── Error Handlers ─────────────────────────────────────────────\n\n@app.errorhandler(400)\ndef bad_request(e):\n    return jsonify(error=str(e.description)), 400\n\n@app.errorhandler(404)\ndef not_found(e):\n    return jsonify(error=str(e.description)), 404\n\n@app.errorhandler(500)\ndef server_error(e):\n    return jsonify(error=\"Internal server error\"), 500\n\n\n# ─── Routes ─────────────────────────────────────────────────────\n\n@app.route(\"/api/items\", methods=[\"GET\"])\ndef list_items():\n    \"\"\"List all items with optional search.\"\"\"\n    search = request.args.get(\"search\", \"\").lower()\n    items = list(items_db.values())\n\n    if search:\n        items = [i for i in items if search in i[\"name\"].lower()]\n\n    return jsonify({\n        \"items\": items,\n        \"total\": len(items),\n    })\n\n\n@app.route(\"/api/items/<item_id>\", methods=[\"GET\"])\ndef get_item(item_id: str):\n    \"\"\"Get a single item by ID.\"\"\"\n    return jsonify(get_item_or_404(item_id))\n\n\n@app.route(\"/api/items\", methods=[\"POST\"])\ndef create_item():\n    \"\"\"Create a new item.\"\"\"\n    data = request.get_json()\n    if not data or \"name\" not in data:\n        abort(400, description=\"'name' field is required\")\n\n    item_id = str(uuid.uuid4())[:8]\n    item = {\n        \"id\": item_id,\n        \"name\": data[\"name\"],\n        \"description\": data.get(\"description\", \"\"),\n        \"status\": data.get(\"status\", \"active\"),\n        \"created_at\": datetime.utcnow().isoformat(),\n        \"updated_at\": datetime.utcnow().isoformat(),\n    }\n    items_db[item_id] = item\n\n    return jsonify(item), 201\n\n\n@app.route(\"/api/items/<item_id>\", methods=[\"PUT\"])\ndef update_item(item_id: str):\n    \"\"\"Update an existing item.\"\"\"\n    item = get_item_or_404(item_id)\n    data = request.get_json()\n\n    if not data:\n        abort(400, description=\"Request body required\")\n\n    item[\"name\"] = data.get(\"name\", item[\"name\"])\n    item[\"description\"] = data.get(\"description\", item[\"description\"])\n    item[\"status\"] = data.get(\"status\", item[\"status\"])\n    item[\"updated_at\"] = datetime.utcnow().isoformat()\n\n    return jsonify(item)\n\n\n@app.route(\"/api/items/<item_id>\", methods=[\"DELETE\"])\ndef delete_item(item_id: str):\n    \"\"\"Delete an item.\"\"\"\n    get_item_or_404(item_id)\n    del items_db[item_id]\n    return jsonify({\"message\": f\"Item '{item_id}' deleted\"})\n\n\n# ─── Main ───────────────────────────────────────────────────────\n\nif __name__ == \"__main__\":\n    # Seed with sample data\n    for name in [\"Widget A\", \"Gadget B\", \"Doohickey C\"]:\n        cid = str(uuid.uuid4())[:8]\n        items_db[cid] = {\n            \"id\": cid, \"name\": name,\n            \"description\": f\"Sample {name.lower()}\",\n            \"status\": \"active\",\n            \"created_at\": datetime.utcnow().isoformat(),\n            \"updated_at\": datetime.utcnow().isoformat(),\n        }\n\n    app.run(debug=True, port=5000)\n"
    },
    {
        "id": "python-data",
        "name": "Data Analysis",
        "category": "Python",
        "language": "python",
        "description": "Pandas data loading, cleaning, and summary statistics",
        "content": "\"\"\"Data Analysis Template.\n\nStructured data analysis workflow with pandas:\nload, clean, explore, analyze, and report.\n\nRequirements:\n    pip install pandas matplotlib\n\"\"\"\n\nimport pandas as pd\nimport json\nfrom pathlib import Path\n\n\n# ─── 1. Data Loading ───────────────────────────────────────────\n\ndef load_data(filepath: str) -> pd.DataFrame:\n    \"\"\"Load data from CSV, JSON, or Excel.\"\"\"\n    path = Path(filepath)\n    loaders = {\n        \".csv\": pd.read_csv,\n        \".json\": pd.read_json,\n        \".xlsx\": pd.read_excel,\n        \".parquet\": pd.read_parquet,\n    }\n    loader = loaders.get(path.suffix.lower())\n    if not loader:\n        raise ValueError(f\"Unsupported format: {path.suffix}\")\n    return loader(filepath)\n\n\n# ─── 2. Data Cleaning ──────────────────────────────────────────\n\ndef clean_data(df: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"Clean and prepare data for analysis.\"\"\"\n    # Remove duplicates\n    initial_rows = len(df)\n    df = df.drop_duplicates()\n    print(f\"Removed {initial_rows - len(df)} duplicate rows\")\n\n    # Handle missing values\n    missing = df.isnull().sum()\n    if missing.any():\n        print(f\"\\nMissing values:\\n{missing[missing > 0]}\")\n\n    # Fill numeric columns with median\n    numeric_cols = df.select_dtypes(include=[\"number\"]).columns\n    df[numeric_cols] = df[numeric_cols].fillna(df[numeric_cols].median())\n\n    # Fill string columns with 'Unknown'\n    string_cols = df.select_dtypes(include=[\"object\"]).columns\n    df[string_cols] = df[string_cols].fillna(\"Unknown\")\n\n    # Strip whitespace from strings\n    for col in string_cols:\n        df[col] = df[col].str.strip()\n\n    return df\n\n\n# ─── 3. Exploratory Analysis ───────────────────────────────────\n\ndef explore(df: pd.DataFrame) -> dict:\n    \"\"\"Generate exploratory statistics.\"\"\"\n    stats = {\n        \"shape\": {\"rows\": df.shape[0], \"columns\": df.shape[1]},\n        \"dtypes\": df.dtypes.astype(str).to_dict(),\n        \"numeric_summary\": {},\n        \"categorical_summary\": {},\n    }\n\n    # Numeric columns\n    for col in df.select_dtypes(include=[\"number\"]).columns:\n        stats[\"numeric_summary\"][col] = {\n            \"mean\": round(df[col].mean(), 2),\n            \"median\": round(df[col].median(), 2),\n            \"std\": round(df[col].std(), 2),\n            \"min\": round(df[col].min(), 2),\n            \"max\": round(df[col].max(), 2),\n        }\n\n    # Categorical columns\n    for col in df.select_dtypes(include=[\"object\"]).columns:\n        value_counts = df[col].value_counts().head(5)\n        stats[\"categorical_summary\"][col] = {\n            \"unique\": df[col].nunique(),\n            \"top_values\": value_counts.to_dict(),\n        }\n\n    return stats\n\n\n# ─── 4. Report Generation ──────────────────────────────────────\n\ndef generate_report(stats: dict) -> str:\n    \"\"\"Generate a formatted text report.\"\"\"\n    lines = [\"=\" * 50, \"DATA ANALYSIS REPORT\", \"=\" * 50, \"\"]\n\n    lines.append(f\"Dataset: {stats['shape']['rows']} rows x {stats['shape']['columns']} columns\\n\")\n\n    if stats[\"numeric_summary\"]:\n        lines.append(\"--- Numeric Summary ---\")\n        for col, s in stats[\"numeric_summary\"].items():\n            lines.append(f\"  {col}: mean={s['mean']}, median={s['median']}, std={s['std']}\")\n        lines.append(\"\")\n\n    if stats[\"categorical_summary\"]:\n        lines.append(\"--- Categorical Summary ---\")\n        for col, s in stats[\"categorical_summary\"].items():\n            lines.append(f\"  {col}: {s['unique']} unique values\")\n            for val, count in list(s[\"top_values\"].items())[:3]:\n                lines.append(f\"    - {val}: {count}\")\n        lines.append(\"\")\n\n    return \"\\n\".join(lines)\n\n\n# ─── Main ──────────────────────────────────────────────────────\n\nif __name__ == \"__main__\":\n    # Example with sample data\n    sample_data = pd.DataFrame({\n        \"name\": [\"Alice\", \"Bob\", \"Carol\", \"Dave\", \"Eve\", \"Frank\"],\n        \"age\": [30, 25, 35, 28, None, 42],\n        \"department\": [\"Engineering\", \"Marketing\", \"Engineering\", \"Sales\", \"Marketing\", \"Engineering\"],\n        \"salary\": [95000, 72000, 110000, 68000, 78000, 125000],\n    })\n\n    print(\"Raw data:\")\n    print(sample_data.to_string())\n    print()\n\n    cleaned = clean_data(sample_data)\n    stats = explore(cleaned)\n    report = generate_report(stats)\n    print(report)\n"
    },
    {
        "id": "sql-query",
        "name": "Query Template",
        "category": "SQL",
        "language": "sql",
        "description": "Common SQL patterns: JOIN, GROUP BY, subqueries, window functions",
        "content": "-- ╔══════════════════════════════════════════════════╗\n-- ║         SQL Query Template Collection           ║\n-- ║     Common patterns for data analysis           ║\n-- ╚══════════════════════════════════════════════════╝\n\n-- ─── 1. Basic Aggregation ────────────────────────────────────\n-- Count, sum, average grouped by category\nSELECT\n    category,\n    COUNT(*) AS total_items,\n    SUM(amount) AS total_amount,\n    ROUND(AVG(amount), 2) AS avg_amount,\n    MIN(amount) AS min_amount,\n    MAX(amount) AS max_amount\nFROM orders\nGROUP BY category\nHAVING COUNT(*) > 5\nORDER BY total_amount DESC;\n\n\n-- ─── 2. JOIN with Filter ─────────────────────────────────────\n-- Combine related tables with conditions\nSELECT\n    c.customer_name,\n    c.email,\n    o.order_id,\n    o.order_date,\n    o.total\nFROM customers c\nINNER JOIN orders o ON c.customer_id = o.customer_id\nWHERE o.order_date >= '2024-01-01'\n  AND o.status = 'completed'\nORDER BY o.order_date DESC\nLIMIT 100;\n\n\n-- ─── 3. Subquery: Top N per Group ────────────────────────────\n-- Find the top 3 highest-value orders per customer\nSELECT * FROM (\n    SELECT\n        customer_id,\n        order_id,\n        total,\n        ROW_NUMBER() OVER (\n            PARTITION BY customer_id\n            ORDER BY total DESC\n        ) AS rank\n    FROM orders\n) ranked\nWHERE rank <= 3;\n\n\n-- ─── 4. Window Functions ─────────────────────────────────────\n-- Running total and moving average\nSELECT\n    order_date,\n    amount,\n    SUM(amount) OVER (\n        ORDER BY order_date\n        ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW\n    ) AS running_total,\n    ROUND(AVG(amount) OVER (\n        ORDER BY order_date\n        ROWS BETWEEN 6 PRECEDING AND CURRENT ROW\n    ), 2) AS moving_avg_7day\nFROM daily_sales\nORDER BY order_date;\n\n\n-- ─── 5. CTE: Multi-Step Analysis ─────────────────────────────\n-- Common Table Expressions for complex queries\nWITH monthly_revenue AS (\n    SELECT\n        DATE_TRUNC('month', order_date) AS month,\n        SUM(total) AS revenue\n    FROM orders\n    WHERE order_date >= '2024-01-01'\n    GROUP BY DATE_TRUNC('month', order_date)\n),\nrevenue_growth AS (\n    SELECT\n        month,\n        revenue,\n        LAG(revenue) OVER (ORDER BY month) AS prev_month,\n        ROUND(\n            (revenue - LAG(revenue) OVER (ORDER BY month)) * 100.0\n            / NULLIF(LAG(revenue) OVER (ORDER BY month), 0)\n        , 1) AS growth_pct\n    FROM monthly_revenue\n)\nSELECT * FROM revenue_growth\nORDER BY month;\n\n\n-- ─── 6. CASE Expressions ─────────────────────────────────────\n-- Conditional categorization\nSELECT\n    product_name,\n    price,\n    CASE\n        WHEN price < 10 THEN 'Budget'\n        WHEN price < 50 THEN 'Mid-Range'\n        WHEN price < 200 THEN 'Premium'\n        ELSE 'Luxury'\n    END AS price_tier,\n    CASE\n        WHEN stock_quantity = 0 THEN 'Out of Stock'\n        WHEN stock_quantity < 10 THEN 'Low Stock'\n        ELSE 'In Stock'\n    END AS availability\nFROM products\nORDER BY price DESC;\n"
    },
    {
        "id": "sql-migration",
        "name": "Migration Script",
        "category": "SQL",
        "language": "sql",
        "description": "Database migration with CREATE, ALTER, indexes, and rollback",
        "content": "-- ╔══════════════════════════════════════════════════╗\n-- ║       Database Migration Template               ║\n-- ║   Version: 001   Date: 2024-01-01              ║\n-- ║   Description: Initial schema setup             ║\n-- ╚══════════════════════════════════════════════════╝\n\n-- ═══ FORWARD MIGRATION ═══════════════════════════════════════\n\n-- 1. Create users table\nCREATE TABLE IF NOT EXISTS users (\n    id          INTEGER PRIMARY KEY AUTOINCREMENT,\n    email       VARCHAR(255) NOT NULL UNIQUE,\n    username    VARCHAR(100) NOT NULL UNIQUE,\n    password_hash VARCHAR(255) NOT NULL,\n    full_name   VARCHAR(200),\n    role        VARCHAR(50) DEFAULT 'user',\n    is_active   BOOLEAN DEFAULT TRUE,\n    created_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- 2. Create products table\nCREATE TABLE IF NOT EXISTS products (\n    id          INTEGER PRIMARY KEY AUTOINCREMENT,\n    name        VARCHAR(200) NOT NULL,\n    description TEXT,\n    sku         VARCHAR(50) UNIQUE,\n    price       DECIMAL(10, 2) NOT NULL DEFAULT 0.00,\n    category    VARCHAR(100),\n    stock_qty   INTEGER DEFAULT 0,\n    is_active   BOOLEAN DEFAULT TRUE,\n    created_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- 3. Create orders table\nCREATE TABLE IF NOT EXISTS orders (\n    id          INTEGER PRIMARY KEY AUTOINCREMENT,\n    user_id     INTEGER NOT NULL REFERENCES users(id),\n    status      VARCHAR(50) DEFAULT 'pending',\n    total       DECIMAL(12, 2) DEFAULT 0.00,\n    notes       TEXT,\n    created_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at  TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- 4. Create order_items junction table\nCREATE TABLE IF NOT EXISTS order_items (\n    id          INTEGER PRIMARY KEY AUTOINCREMENT,\n    order_id    INTEGER NOT NULL REFERENCES orders(id) ON DELETE CASCADE,\n    product_id  INTEGER NOT NULL REFERENCES products(id),\n    quantity    INTEGER NOT NULL DEFAULT 1,\n    unit_price  DECIMAL(10, 2) NOT NULL,\n    subtotal    DECIMAL(12, 2) GENERATED ALWAYS AS (quantity * unit_price) STORED\n);\n\n-- 5. Create indexes for performance\nCREATE INDEX IF NOT EXISTS idx_users_email ON users(email);\nCREATE INDEX IF NOT EXISTS idx_products_category ON products(category);\nCREATE INDEX IF NOT EXISTS idx_products_sku ON products(sku);\nCREATE INDEX IF NOT EXISTS idx_orders_user ON orders(user_id);\nCREATE INDEX IF NOT EXISTS idx_orders_status ON orders(status);\nCREATE INDEX IF NOT EXISTS idx_orders_created ON orders(created_at);\nCREATE INDEX IF NOT EXISTS idx_order_items_order ON order_items(order_id);\n\n-- 6. Seed initial data\nINSERT INTO users (email, username, password_hash, full_name, role)\nVALUES ('admin@example.com', 'admin', 'CHANGE_ME_HASH', 'System Admin', 'admin');\n\n\n-- ═══ ROLLBACK MIGRATION ═════════════════════════════════════\n-- Uncomment to roll back this migration:\n--\n-- DROP INDEX IF EXISTS idx_order_items_order;\n-- DROP INDEX IF EXISTS idx_orders_created;\n-- DROP INDEX IF EXISTS idx_orders_status;\n-- DROP INDEX IF EXISTS idx_orders_user;\n-- DROP INDEX IF EXISTS idx_products_sku;\n-- DROP INDEX IF EXISTS idx_products_category;\n-- DROP INDEX IF EXISTS idx_users_email;\n-- DROP TABLE IF EXISTS order_items;\n-- DROP TABLE IF EXISTS orders;\n-- DROP TABLE IF EXISTS products;\n-- DROP TABLE IF EXISTS users;\n"
    },
    {
        "id": "markdown-report",
        "name": "Report",
        "category": "Markdown",
        "language": "markdown",
        "description": "Structured report with sections, tables, and conclusions",
        "content": "# Project Status Report\n\n**Date:** 2024-01-15  \n**Author:** [Your Name]  \n**Period:** Q4 2023\n\n---\n\n## Executive Summary\n\nThis report covers the progress made during Q4 2023, including key achievements, metrics, challenges encountered, and the roadmap for Q1 2024.\n\n## Key Metrics\n\n| Metric | Target | Actual | Status |\n|--------|--------|--------|--------|\n| Active Users | 10,000 | 12,847 | \u2705 Above target |\n| Revenue | $45,000 | $48,290 | \u2705 Above target |\n| Uptime | 99.5% | 99.9% | \u2705 Above target |\n| Bug Fix Rate | 90% | 85% | \u26A0\uFE0F Below target |\n| NPS Score | 40 | 42 | \u2705 Above target |\n\n## Achievements\n\n### 1. Feature Launches\n- **Real-time Analytics Dashboard** \u2014 Launched Dec 5, adopted by 78% of users\n- **API v2.0** \u2014 Released Nov 20, 3x performance improvement\n- **Mobile App Update** \u2014 Push notifications, offline mode\n\n### 2. Infrastructure\n- Migrated to containerized deployment (40% cost reduction)\n- Implemented automated failover (RTO < 60s)\n- Added CDN for static assets (50% latency improvement)\n\n### 3. Team Growth\n- Hired 3 senior engineers and 1 product designer\n- Established weekly architecture review process\n\n## Challenges\n\n1. **Bug backlog growth** \u2014 Bug fix rate fell to 85% due to feature sprint priority\n   - *Mitigation:* Dedicated bug-fix sprint scheduled for Jan 2024\n\n2. **Third-party API instability** \u2014 Payment provider had 3 outages\n   - *Mitigation:* Implementing fallback payment processor\n\n3. **Documentation gaps** \u2014 API v2.0 docs incomplete at launch\n   - *Mitigation:* Technical writer onboarded, docs sprint in progress\n\n## Q1 2024 Roadmap\n\n- [ ] Complete API v2.0 documentation\n- [ ] Launch user onboarding wizard\n- [ ] Implement A/B testing framework\n- [ ] Achieve 99.95% uptime target\n- [ ] Reduce bug backlog by 50%\n\n## Budget Summary\n\n| Category | Budget | Spent | Remaining |\n|----------|--------|-------|----------|\n| Infrastructure | $15,000 | $12,400 | $2,600 |\n| Personnel | $120,000 | $118,500 | $1,500 |\n| Tools & Licenses | $8,000 | $6,200 | $1,800 |\n| **Total** | **$143,000** | **$137,100** | **$5,900** |\n\n## Conclusion\n\nQ4 2023 exceeded targets in user growth, revenue, and uptime. The main area for improvement is bug fix velocity, which will be addressed through a dedicated sprint in early Q1. Overall project health is **strong**.\n\n---\n\n*Next review: February 15, 2024*\n"
    },
    {
        "id": "markdown-docs",
        "name": "API Documentation",
        "category": "Markdown",
        "language": "markdown",
        "description": "API documentation with endpoints, parameters, and examples",
        "content": "# API Documentation\n\n**Base URL:** `https://api.example.com/v1`  \n**Authentication:** Bearer token in `Authorization` header\n\n---\n\n## Authentication\n\n### POST /auth/login\n\nAuthenticate and receive a JWT token.\n\n**Request Body:**\n```json\n{\n    \"email\": \"user@example.com\",\n    \"password\": \"your-password\"\n}\n```\n\n**Response (200):**\n```json\n{\n    \"token\": \"eyJhbGciOiJIUzI1NiIs...\",\n    \"expires_in\": 86400,\n    \"user\": {\n        \"id\": \"usr_123\",\n        \"email\": \"user@example.com\",\n        \"role\": \"admin\"\n    }\n}\n```\n\n**Errors:**\n| Status | Description |\n|--------|-------------|\n| 401 | Invalid credentials |\n| 429 | Rate limited (max 5 attempts/min) |\n\n---\n\n## Items\n\n### GET /items\n\nList all items with pagination and filtering.\n\n**Query Parameters:**\n| Param | Type | Default | Description |\n|-------|------|---------|-------------|\n| `page` | integer | 1 | Page number |\n| `limit` | integer | 20 | Items per page (max 100) |\n| `search` | string | - | Search by name |\n| `category` | string | - | Filter by category |\n| `sort` | string | `created_at` | Sort field |\n| `order` | string | `desc` | Sort order (asc/desc) |\n\n**Response (200):**\n```json\n{\n    \"items\": [\n        {\n            \"id\": \"itm_456\",\n            \"name\": \"Widget Pro\",\n            \"category\": \"hardware\",\n            \"price\": 29.99,\n            \"created_at\": \"2024-01-15T10:30:00Z\"\n        }\n    ],\n    \"pagination\": {\n        \"page\": 1,\n        \"limit\": 20,\n        \"total\": 150,\n        \"pages\": 8\n    }\n}\n```\n\n### POST /items\n\nCreate a new item.\n\n**Request Body:**\n```json\n{\n    \"name\": \"Widget Pro\",\n    \"description\": \"Advanced widget with premium features\",\n    \"category\": \"hardware\",\n    \"price\": 29.99,\n    \"stock\": 100\n}\n```\n\n**Response (201):** Returns the created item object.\n\n### PUT /items/:id\n\nUpdate an existing item. Partial updates supported.\n\n### DELETE /items/:id\n\nDelete an item. Returns 204 No Content on success.\n\n---\n\n## Error Format\n\nAll errors return a consistent JSON structure:\n\n```json\n{\n    \"error\": {\n        \"code\": \"VALIDATION_ERROR\",\n        \"message\": \"The 'name' field is required\",\n        \"details\": [\n            { \"field\": \"name\", \"message\": \"Required field\" }\n        ]\n    }\n}\n```\n\n## Rate Limits\n\n| Tier | Requests/min | Requests/day |\n|------|-------------|-------------|\n| Free | 60 | 1,000 |\n| Pro | 300 | 10,000 |\n| Enterprise | 1,000 | Unlimited |\n\nRate limit headers are included in every response:\n- `X-RateLimit-Limit`\n- `X-RateLimit-Remaining`\n- `X-RateLimit-Reset`\n"
    },
    {
        "id": "css-reset",
        "name": "Modern CSS Reset",
        "category": "CSS",
        "language": "css",
        "description": "Modern CSS reset with custom properties and utility classes",
        "content": "/* ═══════════════════════════════════════════════════\n   Modern CSS Reset + Design System Foundation\n   ═══════════════════════════════════════════════════ */\n\n/* ─── 1. CSS Custom Properties (Design Tokens) ─── */\n\n:root {\n    /* Colors */\n    --color-primary: #3b82f6;\n    --color-primary-dark: #2563eb;\n    --color-secondary: #8b5cf6;\n    --color-success: #22c55e;\n    --color-warning: #f59e0b;\n    --color-danger: #ef4444;\n\n    /* Neutrals */\n    --color-bg: #ffffff;\n    --color-surface: #f8fafc;\n    --color-border: #e2e8f0;\n    --color-text: #1e293b;\n    --color-text-muted: #64748b;\n\n    /* Typography */\n    --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    --font-mono: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;\n\n    /* Spacing scale (4px base) */\n    --space-1: 0.25rem;\n    --space-2: 0.5rem;\n    --space-3: 0.75rem;\n    --space-4: 1rem;\n    --space-6: 1.5rem;\n    --space-8: 2rem;\n    --space-12: 3rem;\n    --space-16: 4rem;\n\n    /* Border radius */\n    --radius-sm: 0.25rem;\n    --radius-md: 0.5rem;\n    --radius-lg: 0.75rem;\n    --radius-xl: 1rem;\n    --radius-full: 9999px;\n\n    /* Shadows */\n    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);\n    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07);\n    --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);\n\n    /* Transitions */\n    --transition-fast: 150ms ease;\n    --transition-normal: 250ms ease;\n}\n\n/* ─── 2. Reset ──────────────────────────────────── */\n\n*, *::before, *::after {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nhtml {\n    -webkit-text-size-adjust: 100%;\n    tab-size: 4;\n    scroll-behavior: smooth;\n}\n\nbody {\n    font-family: var(--font-sans);\n    color: var(--color-text);\n    background: var(--color-bg);\n    line-height: 1.6;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\nimg, picture, video, canvas, svg {\n    display: block;\n    max-width: 100%;\n}\n\ninput, button, textarea, select {\n    font: inherit;\n    color: inherit;\n}\n\na {\n    color: var(--color-primary);\n    text-decoration: none;\n}\n\na:hover {\n    text-decoration: underline;\n}\n\nbutton {\n    cursor: pointer;\n    border: none;\n    background: none;\n}\n\n/* ─── 3. Typography ─────────────────────────────── */\n\nh1, h2, h3, h4, h5, h6 {\n    line-height: 1.25;\n    font-weight: 600;\n}\n\nh1 { font-size: 2.25rem; }\nh2 { font-size: 1.875rem; }\nh3 { font-size: 1.5rem; }\nh4 { font-size: 1.25rem; }\nh5 { font-size: 1.125rem; }\nh6 { font-size: 1rem; }\n\ncode, pre {\n    font-family: var(--font-mono);\n    font-size: 0.875em;\n}\n\npre {\n    background: var(--color-surface);\n    padding: var(--space-4);\n    border-radius: var(--radius-md);\n    overflow-x: auto;\n}\n\n/* ─── 4. Utility Classes ────────────────────────── */\n\n.container {\n    width: 100%;\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 0 var(--space-4);\n}\n\n.flex { display: flex; }\n.flex-col { flex-direction: column; }\n.items-center { align-items: center; }\n.justify-between { justify-content: space-between; }\n.gap-2 { gap: var(--space-2); }\n.gap-4 { gap: var(--space-4); }\n\n.text-center { text-align: center; }\n.text-muted { color: var(--color-text-muted); }\n.text-sm { font-size: 0.875rem; }\n\n.mt-4 { margin-top: var(--space-4); }\n.mb-4 { margin-bottom: var(--space-4); }\n.p-4 { padding: var(--space-4); }\n\n.rounded { border-radius: var(--radius-md); }\n.shadow { box-shadow: var(--shadow-md); }\n\n.btn {\n    display: inline-flex;\n    align-items: center;\n    gap: var(--space-2);\n    padding: var(--space-2) var(--space-4);\n    border-radius: var(--radius-md);\n    font-weight: 500;\n    transition: all var(--transition-fast);\n}\n\n.btn-primary {\n    background: var(--color-primary);\n    color: white;\n}\n.btn-primary:hover {\n    background: var(--color-primary-dark);\n    text-decoration: none;\n}\n\n.card {\n    background: var(--color-bg);\n    border: 1px solid var(--color-border);\n    border-radius: var(--radius-lg);\n    padding: var(--space-6);\n    box-shadow: var(--shadow-sm);\n}\n"
    },
    {
        "id": "js-module",
        "name": "ES Module",
        "category": "JavaScript",
        "language": "javascript",
        "description": "ES module with class, async/await, error handling, and events",
        "content": "/**\n * Data Service Module\n *\n * A structured ES module template with:\n * - Class-based API client with async/await\n * - Error handling and retry logic\n * - Event emitter pattern\n * - Configuration management\n *\n * Usage:\n *   import { DataService } from './dataService.js';\n *   const service = new DataService({ baseUrl: '/api' });\n *   const items = await service.getItems();\n */\n\n// ─── Configuration ───────────────────────────────────────────\n\nconst DEFAULT_CONFIG = {\n    baseUrl: '/api/v1',\n    timeout: 10000,\n    retries: 3,\n    retryDelay: 1000,\n};\n\n// ─── Event Emitter ───────────────────────────────────────────\n\nclass EventEmitter {\n    #listeners = new Map();\n\n    on(event, callback) {\n        if (!this.#listeners.has(event)) {\n            this.#listeners.set(event, new Set());\n        }\n        this.#listeners.get(event).add(callback);\n        return () => this.off(event, callback);\n    }\n\n    off(event, callback) {\n        this.#listeners.get(event)?.delete(callback);\n    }\n\n    emit(event, data) {\n        this.#listeners.get(event)?.forEach(cb => cb(data));\n    }\n}\n\n// ─── API Client ──────────────────────────────────────────────\n\nclass ApiError extends Error {\n    constructor(message, status, data) {\n        super(message);\n        this.name = 'ApiError';\n        this.status = status;\n        this.data = data;\n    }\n}\n\nasync function fetchWithRetry(url, options, retries, delay) {\n    for (let attempt = 1; attempt <= retries; attempt++) {\n        try {\n            const controller = new AbortController();\n            const timeoutId = setTimeout(\n                () => controller.abort(),\n                options.timeout || 10000\n            );\n\n            const response = await fetch(url, {\n                ...options,\n                signal: controller.signal,\n            });\n            clearTimeout(timeoutId);\n\n            if (!response.ok) {\n                const data = await response.json().catch(() => null);\n                throw new ApiError(\n                    data?.error?.message || `HTTP ${response.status}`,\n                    response.status,\n                    data\n                );\n            }\n\n            return response;\n        } catch (err) {\n            if (attempt === retries || err instanceof ApiError) {\n                throw err;\n            }\n            console.warn(`Attempt ${attempt} failed, retrying in ${delay}ms...`);\n            await new Promise(r => setTimeout(r, delay));\n            delay *= 2; // Exponential backoff\n        }\n    }\n}\n\n// ─── Data Service ────────────────────────────────────────────\n\nexport class DataService extends EventEmitter {\n    #config;\n    #cache = new Map();\n\n    constructor(config = {}) {\n        super();\n        this.#config = { ...DEFAULT_CONFIG, ...config };\n    }\n\n    async #request(method, path, body = null) {\n        const url = `${this.#config.baseUrl}${path}`;\n        const options = {\n            method,\n            headers: { 'Content-Type': 'application/json' },\n            timeout: this.#config.timeout,\n        };\n\n        if (body) {\n            options.body = JSON.stringify(body);\n        }\n\n        this.emit('request', { method, path });\n\n        try {\n            const response = await fetchWithRetry(\n                url, options,\n                this.#config.retries,\n                this.#config.retryDelay\n            );\n            const data = await response.json();\n            this.emit('response', { method, path, status: response.status });\n            return data;\n        } catch (err) {\n            this.emit('error', { method, path, error: err });\n            throw err;\n        }\n    }\n\n    // ─── CRUD Methods ────────────────────────────────────────\n\n    async getItems(params = {}) {\n        const query = new URLSearchParams(params).toString();\n        const path = `/items${query ? `?${query}` : ''}`;\n\n        // Check cache\n        if (this.#cache.has(path)) {\n            return this.#cache.get(path);\n        }\n\n        const data = await this.#request('GET', path);\n        this.#cache.set(path, data);\n        return data;\n    }\n\n    async getItem(id) {\n        return this.#request('GET', `/items/${id}`);\n    }\n\n    async createItem(item) {\n        this.#cache.clear(); // Invalidate cache\n        return this.#request('POST', '/items', item);\n    }\n\n    async updateItem(id, updates) {\n        this.#cache.clear();\n        return this.#request('PUT', `/items/${id}`, updates);\n    }\n\n    async deleteItem(id) {\n        this.#cache.clear();\n        return this.#request('DELETE', `/items/${id}`);\n    }\n\n    clearCache() {\n        this.#cache.clear();\n    }\n}\n\n// ─── Example Usage ───────────────────────────────────────────\n\n/*\nconst service = new DataService({ baseUrl: 'https://api.example.com/v1' });\n\n// Listen for events\nservice.on('error', ({ error }) => console.error('API Error:', error.message));\n\n// Fetch items\nconst { items } = await service.getItems({ page: 1, limit: 20 });\nconsole.log(`Found ${items.length} items`);\n\n// Create item\nconst newItem = await service.createItem({ name: 'Widget', price: 29.99 });\nconsole.log('Created:', newItem.id);\n*/\n"
    }
]
